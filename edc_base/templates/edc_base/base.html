{% load staticfiles %}
{% load tz %}
<!DOCTYPE html>
<html lang="en">
{% block header %}
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>{{ project_name }}</title>

    <link rel="icon" href="{% static "favicon.ico" %}">
    <link rel="stylesheet" type="text/css" href="{% static "edc_base/css/flaticon/flaticon.css" %}"> 
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="{% static "edc_base/css/bootstrap.min.css" %}" >

    <!--
    <link rel="stylesheet" type="text/css" href="https://nightly.datatables.net/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="{% static "datatables/1.10.11/css/select.dataTables.min.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "datatables/1.10.11/css/buttons.dataTables.min.css" %}">
    -->
    <link rel="stylesheet" type="text/css" href="{% static "edc_base/css/font-awesome/css/font-awesome.min.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "edc_base/css/sticky-footer-navbar.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "edc_base/datetimepicker/css/datetimepicker.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "edc_base/css/edc_base.css" %}">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script type="text/javascript" charset="utf8" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script type="text/javascript" charset="utf8" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	<!-- begin extra-css -->
	{% block extra-css %}{% endblock extra-css %}
	<!-- end extra-css -->
    
{% block scripts %}
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/jquery.min.js" %}"></script>
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/bootstrap.min.js" %}"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/ie10-viewport-bug-workaround.js" %}"></script>
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/jquery.form.js" %}"></script>
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/js.cookies.js" %}"></script>
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/moment.min.js" %}"></script>
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/edc-base.js" %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static "edc_base/datetimepicker/js/bootstrap-datetimepicker.min.js" %}"></script>

    <!-- don't forget to run python manage.py collectstatic_js_reverse. See https://github.com/ierror/django-js-reverse -->
    <script type="text/javascript" charset="utf8" src="{% static 'django_js_reverse/js/reverse.js' %}"></script>

    <!-- 
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/modal.js" %}"></script>
    <script type="text/javascript" charset="utf8" src="{%static "edc_base/js/active.js" %}"></script>
    -->
    <!--
    <script type="text/javascript" charset="utf8" src="https://nightly.datatables.net/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8" src="{% static "datatables/1.10.11/js/dataTables.select.min.js" %}"></script>
    -->
{% endblock scripts %}
<!-- begin extra-scripts by app ================================================== -->
{% block extra-scripts %}{% endblock extra-scripts %}
<!-- end extra-scripts by app ================================================== -->
{% endblock header %}
  </head>
<body class="edc-body" >
{% block topbar %}
<!-- topbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">

      <div class="container-fluid">

        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          {% block topbar_title %}
            <span class="navbar-brand">{% if protocol %}{{ protocol }}: {% endif %}{{ protocol_name |default:project_name }}</span>
          {% endblock topbar_title %}

        </div>

        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">

            {% block topbar_navbar_apps %}

	            {% for navbar_item in navbar %}
	
	                <li id="li-topbar-{{ navbar_item.html_id }}"
	                   class="{%if navbar_item_selected == navbar_item.name %}active{%endif%}">
	                    <a title="{{ navbar_item.title }}"
	                        href="{% url navbar_item.url_name %}">
	                        {% if navbar_item.fa_icon %}
	                           <i class="fa {{navbar_item.fa_icon}} fa-fw"></i>
	                        {% endif %}
	                        {% if navbar_item.label %}
	                           {{ navbar_item.label|title }}
	                        {% endif %}
	                    </a>
	                </li>
	
	            {% endfor %}

            {% endblock topbar_navbar_apps %}

            {% block topbar_navbar_extra_items %}{% endblock topbar_navbar_extra_items %}

            <li id="li-topbar-home"><a class="glyphicon glyphicon-home" title="home" href="{% url 'home_url' %}"></a></li>
            
            {% block settings_url %}

              <li id="li-topbar-settings">
                <a class="fa fa-wrench fa-lg" title="settings" href="{% url 'edc_base:settings_url' %}">
                </a>
              </li>

            {% endblock settings_url %}

            <li id="li-topbar-user-profile"><a title="user profile" href="{% url "admin:auth_user_change" user.id %}">{{ user.username }}</a></li>
            <li id="li-topbar-logout"><a class="glyphicon glyphicon-log-out" title="logout" href="{% url 'logout_url' %}"></a></li>
          </ul>
        </div>

      </div>
    </nav>
    
    <!-- end topbar -->
{% endblock topbar %}

{% block main %}{% endblock main %}

{% block modals %}{% endblock modals %}

{% block bottombar %}{% endblock bottombar %}

{% block footer %} 
    {% if DEBUG %}
      <div class="container">
        <div class="alert alert-danger">Warning: You are currently running in DEBUG-mode</div>
      </div>    
    {% endif %}
<footer class="footer">
  <div class="container">

    {% block footer_extra_items %}
    {% endblock footer_extra_items %}
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fa fa-copyright"></span> {{ copyright }}&nbsp;{{ institution }}</p></div>
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fa fa-leaf"></span> Revision: {{ revision }}</p></div>
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fa fa-clock-o"></span> {% now "Y-m-d H:i" %} {% get_current_timezone as TIME_ZONE%} {{TIME_ZONE}}</p></div>
    <div class="col-md-3"><p class="text-muted small text-center"><span class="fa fa-exclamation"></span> {{ disclaimer }}</p></div>
  </div>
</footer>
{% endblock footer %}
{% load tz_detect %}
{% tz_detect %}
</body>

{% block extra-scripts-bottom %}{% endblock %}

</html>
